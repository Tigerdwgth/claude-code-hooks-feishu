# claude-code-hooks-feishu

Claude Code é£žä¹¦é€šçŸ¥ hooks â€”â€” ä»»åŠ¡å®Œæˆé€šçŸ¥ã€å±é™©å‘½ä»¤æ‹¦æˆªå‘Šè­¦ã€Python æ ¼å¼åŒ–ã€Commit å®¡æŸ¥ã€‚

## å®‰è£…

### æ–¹å¼ä¸€ï¼šnpx ä¸€é”®å®‰è£…ï¼ˆæŽ¨èï¼‰

```bash
npx claude-code-hooks-feishu
```

### æ–¹å¼äºŒï¼šä»Ž GitHub å®‰è£…

```bash
git clone https://github.com/Tigerdwgth/claude-code-hooks-feishu.git
cd claude-code-hooks-feishu && node bin/cli.js
```

äº¤äº’å¼å‘å¯¼ä¼šè‡ªåŠ¨å®Œæˆæ‰€æœ‰é…ç½®ï¼ˆåŒ…æ‹¬ `~/.claude/settings.json`ï¼‰ï¼Œæ— éœ€æ‰‹åŠ¨ç¼–è¾‘ä»»ä½•æ–‡ä»¶ã€‚

## åŠŸèƒ½

| Hook | è§¦å‘äº‹ä»¶ | è¯´æ˜Ž | é£žä¹¦é€šçŸ¥ |
|------|---------|------|---------|
| ä»»åŠ¡å®Œæˆ | Stop | Claude å®Œæˆå“åº”æ—¶é€šçŸ¥ | âœ… |
| æƒé™è¯·æ±‚ | Notification | éœ€è¦ç”¨æˆ·ç¡®è®¤æ—¶é€šçŸ¥ | âœ… |
| å·¥å…·å¤±è´¥ | PostToolUseFailure | å·¥å…·æ‰§è¡Œå¤±è´¥æ—¶é€šçŸ¥ | âœ… |
| å±é™©æ‹¦æˆª | PreToolUse (Bash) | æ‹¦æˆª rm -rf ç­‰å±é™©å‘½ä»¤ | âœ… |
| Python æ ¼å¼åŒ– | PostToolUse (Edit/Write) | è‡ªåŠ¨æ ¼å¼åŒ– .py æ–‡ä»¶ | âŒ |
| Commit å®¡æŸ¥ | PreToolUse (Bash) | git commit å‰æ£€æŸ¥ä»£ç é£Žæ ¼ | âŒ |

## é€šçŸ¥è¯¦æƒ…

æ¯æ¡é€šçŸ¥åŒ…å«å®Œæ•´ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼š

| äº‹ä»¶ | åŒ…å«å­—æ®µ |
|------|---------|
| ä»»åŠ¡å®Œæˆ | é¡¹ç›®ç›®å½•ã€æ—¶é—´ã€ä¼šè¯IDã€Claudeå›žå¤æ‘˜è¦ï¼ˆå‰300å­—ï¼‰ã€Transcriptè·¯å¾„ |
| æƒé™è¯·æ±‚ | é¡¹ç›®ç›®å½•ã€æ—¶é—´ã€ä¼šè¯IDã€é€šçŸ¥æ ‡é¢˜ã€é€šçŸ¥å†…å®¹ã€é€šçŸ¥ç±»åž‹ |
| å·¥å…·å¤±è´¥ | é¡¹ç›®ç›®å½•ã€æ—¶é—´ã€ä¼šè¯IDã€å·¥å…·åã€è¾“å…¥å‚æ•°ã€é”™è¯¯ä¿¡æ¯ |
| å±é™©æ‹¦æˆª | é¡¹ç›®ç›®å½•ã€æ—¶é—´ã€å®Œæ•´å‘½ä»¤ã€åŒ¹é…è§„åˆ™ã€ä¼šè¯ID |

## é£žä¹¦é€šçŸ¥æ–¹å¼

- **ç¾¤æœºå™¨äºº Webhook**: åœ¨é£žä¹¦ç¾¤æ·»åŠ è‡ªå®šä¹‰æœºå™¨äººï¼ŒèŽ·å– Webhook URL
- **è‡ªå»ºåº”ç”¨**: åˆ›å»ºé£žä¹¦åº”ç”¨ï¼Œé€šè¿‡ API å‘é€ä¸ªäººæ¶ˆæ¯

ä¸¤ç§æ–¹å¼å¯åŒæ—¶å¯ç”¨ã€‚

## é€šçŸ¥å¡ç‰‡ç¤ºä¾‹

| äº‹ä»¶ | å¡ç‰‡æ ‡é¢˜ | é¢œè‰² |
|------|---------|------|
| ä»»åŠ¡å®Œæˆ | âœ… Claude Code ä»»åŠ¡å®Œæˆ | ðŸŸ¢ ç»¿è‰² |
| æƒé™è¯·æ±‚ | âš ï¸ Claude Code éœ€è¦ç¡®è®¤ | ðŸŸ¡ é»„è‰² |
| å·¥å…·å¤±è´¥ | âŒ Claude Code å·¥å…·æ‰§è¡Œå¤±è´¥ | ðŸŸ  æ©™è‰² |
| å±é™©æ‹¦æˆª | ðŸš¨ å±é™©å‘½ä»¤å·²æ‹¦æˆª | ðŸ”´ çº¢è‰² |

## å‘½ä»¤

```bash
npx claude-code-hooks-feishu          # å®‰è£…/é‡æ–°é…ç½®
npx claude-code-hooks-feishu --test   # å‘é€æµ‹è¯•æ¶ˆæ¯
npx claude-code-hooks-feishu --remove # å¸è½½
```

## é…ç½®æ–‡ä»¶

é…ç½®å­˜å‚¨åœ¨ `~/.claude-hooks-feishu/config.json`ï¼ˆä¸å«åœ¨ä»“åº“ä¸­ï¼‰ã€‚

## å±é™©å‘½ä»¤æ‹¦æˆªè§„åˆ™

é»˜è®¤æ‹¦æˆªä»¥ä¸‹å‘½ä»¤æ¨¡å¼ï¼ˆå¯åœ¨é…ç½®ä¸­è‡ªå®šä¹‰ï¼‰ï¼š

- `rm -rf` / `rm -r /`
- `git push --force` / `git push -f`
- `git reset --hard`
- `DROP TABLE` / `DROP DATABASE`
- `mkfs` / `dd if=` / `> /dev/sda`

## License

MIT
